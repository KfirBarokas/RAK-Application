<VirtualHost *:80>
    ProxyPreserveHost On
    ServerName rak-project.click

    # Serve static files directly
    Alias /static /opt/status-page/statuspage/static

    <Directory /opt/status-page/statuspage/static>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
    </Directory>

    # Prevent proxying static
    ProxyPass /static !

    # Forward everything else to Django
    RequestHeader set "X-Forwarded-Proto" expr=%{REQUEST_SCHEME}
    ProxyPass / http://django-gunicorn:8000/
    ProxyPassReverse / http://django-gunicorn:8000/
</VirtualHost>
